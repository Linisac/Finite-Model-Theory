%Author: Wei-Lin (Linisac) Wu
\documentclass[11pt, leqno]{report}


%Packages
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage{graphicx}
\usepackage{stmaryrd}
\usepackage{colonequals}
\usepackage{amsthm}
\usepackage{array}
\usepackage{amsmath}
\usepackage{amscd}
\usepackage{paralist}
\usepackage{bm}
\usepackage{titlesec}
\usepackage[margin=2cm]{geometry}

%ifthen package
\usepackage{ifthen}


%New Commands for Abbreviations
%%Catalog <
%%%general
%%%definition
%%%enumeration, sequence, vector (tuple), support
%%%set operations
%%%function type, function operations
%%%special set(s), theory
%%%structure, symbol interpretation, structure operations, structure relations
%%%partial isomorphism
%%%elementary equivalence
%%%Ehrenfeucht-Fraisse game
%%%isomorphism types
%%%graph, graph functions, graph relations
%%%logic
%%%counting specifiers
%%%vocabulary, connectives, quantifiers, formula operations
%%%substitution
%%%logic relations
%%%logic operations
%%%finite notions
%%%nullary relations and predicates
%%%operations on formulas and structures
%%%global relations
%%%special classes of structures
%%%extension axioms
%%%labeled/unlabeled classes and probabilities
%% >

%%general <
\newcommand{\header}[1]{{\rm\textbf{#1.}}}
\newcommand{\refitem}[1]{{\rm#1}}
\newcommand{\mathmode}[1]{\begin{math}#1\end{math}}
\newcommand{\paren}[1]{\left(#1\right)} %flexible parentheses
\newcommand{\of}[1]{{[#1]}} %logic or class with vocabulary #1
\newcommand{\prmt}[2]{\mathrm{P}^{#1}_{#2}} %permutation (in combinatorics)
\newcommand{\cmbn}[2]{\mathrm{C}^{#1}_{#2}} %combination (in combinatorics)
%% >

%%definition <
\newcommand{\defas}{\colonequals}
%% >

%%enumeration, sequence, vector (tuple), support <
\newcommand{\etc}{\ldots} %et cetera
\newcommand{\length}{\mathrm{length}}
\newcommand{\emptyseq}{\emptyset} %empty sequence
\newcommand{\seq}[2]{(#1)_{#2}} %indexed sequence
\newcommand{\vect}[1]{\overline{#1}} %vector, \vect{a} = \overbar{a}
\newcommand{\supp}{\mathrm{supp}}
%% >

%%some common operators <
\newcommand{\mul}{\mathop{\cdot}} %multiplication
\newcommand{\abs}[1]{\left|#1\right|}
%% >

%%set operations <
\newcommand{\sete}[1]{{\{#1\}}} %set by enumeration. sete{a, b, c} = {a, b, c}
\newcommand{\setm}[2]{{\{#1 \mid #2\}}} %set by math description. setd{#1}{#2} = {#1 | #2}
\newcommand{\sett}[2]{{\{#1 \mid \text{\rm #2}\}}} %set by text description. sett{#1}{#2} = {#1 | #2}, where #2 is a text
\newcommand{\cart}{\mathop{\times}} %cartesian product of two sets
\newcommand{\cartpwr}[2]{#1^{#2}} %(#2)nd cartesian power of set #1
\newcommand{\intsc}{\cap} %intersection
\newcommand{\union}{\cup} %union
\newcommand{\bintsc}{\bigcap} %big intersection
\newcommand{\bunion}{\bigcup} %big union
\newcommand{\card}[1]{\|#1\|} %cardinality. card{A} = || A ||
\newcommand{\cmpl}[1]{#1^\mathit{c}} %complement of the set #1
%% >

%%function operations <
\newcommand{\dm}{\mathrm{do}} %domain (of a function)
\newcommand{\rg}{\mathrm{rg}} %range (of a function)
\newcommand{\emptymap}{\emptyset} %empty map
\newcommand{\inv}[1]{#1^{-1}} %inverse of function #1
%% >

%%special set(s), theory <
\newcommand{\nat}{\mathbb{N}} %set of natural numbers
\newcommand{\zah}{\mathbb{Z}} %set of integers
\newcommand{\posint}{\mathbb{Z}_+} %set of positive integers
\newcommand{\theory}{\mathit{T}} %theory
\newcommand{\rand}{\mathrm{rand}} %random
\newcommand{\spec}{\mathrm{Spec}} %spectrum
%% >

%%structure, symbol interpretation, structure operations, structure relations <
\newcommand{\strct}[1]{\mathcal{#1}} %structure
\newcommand{\intpr}[2]{#1^{#2}} %symbol #1 interpreted under #2
\newcommand{\sbstrct}[2]{#1^{#2}} %substructure of #2 induced by the subset #1
\newcommand{\isom}[1][]{\ifthenelse{\equal{#1}{}}{\cong}{\cong^{#1}}} %isomorphic in #1 number of variables
\newcommand{\product}{\cart} %product of two structures
\newcommand{\dunion}{\mathop{\dot{\cup}}} %disjoint union of two structures
\newcommand{\ordsum}{\mathop{\lhd}} %ordered sum of two ordered structures
\newcommand{\ultprd}[2]{#1^{#2}} %ultra product. \ultprd{A}{I} = A^I
\newcommand{\ball}[1][]{\ifthenelse{\equal{#1}{}}{{\mathit{S}}}{{\mathit{S}^{#1}}}}
\newcommand{\ballstrct}[1][]{\ifthenelse{\equal{#1}{}}{{\mathcal{S}}}{{\mathcal{S}^{#1}}}}
%% >

%%partial isomorphism <
\newcommand{\partisoms}{\mathrm{Part}} %set of partial isomorphisms between structures #1 and #2
\newcommand{\partially}{\mathrm{part}} %partially (isomorphic)
%% >

%%elementary equivalence <
\newcommand{\equv}[1][]{\ifthenelse{\equal{#1}{}}{\equiv}{\equiv^{#1}}} %equivalence in (#1)-logic
%% >

%%Ehrenfeucht-Fraisse games <
\newcommand{\efgame}{\mathrm{G}} %Ehrenfeucht-Fraisse game
\newcommand{\fingame}{\efgame} %finite Ehrenfeucht-Fraisse game
\newcommand{\game}[2][]{\ifthenelse{\equal{#1}{}}{{\efgame_{#2}}}{{\efgame^{#1}_{#2}}}} %the game G^#1_#2
\newcommand{\winpos}[2][]{\ifthenelse{\equal{#1}{}}{\mathit{W}_{#2}}{\mathit{W}^{#1}_{#2}}}
\newcommand{\msogame}[1]{\operatorname{\MSO-\mathrm{G}}_{#1}} %the game in monadic second-order logic
%% >

%%isomorphism types <
\newcommand{\hint}[2]{\varphi^{#1}_{#2}} %(#1)-isomorphic type (Hintikka formula) over #2 in first-order logic
\newcommand{\ityp}[3][]{\ifthenelse{\equal{#1}{}}{{\psi^{#2}_{#3}}}{{^{#1}\psi^{#2}_{#3}}}} %(#2)-isomorphism type over #2 in other logics in #1 number of variables
%% >

%%graph, graph functions, graph relations <
\newcommand{\graph}{\mathrm{GRAPH}} %the set of finite graphs
\newcommand{\conn}{\mathrm{CONN}} %the set of connected graphs
\newcommand{\dist}[1][]{\ifthenelse{\equal{#1}{}}{\mathit{d}}{\mathit{d}_{#1}}} %distance between two points in a graph
\newcommand{\tree}{\mathrm{TREE}} %the set of finite trees
\newcommand{\gaifman}{\mathcal{G}} %the Gaifman graph of #1 (structure)
%% >

%%logics <
\newcommand{\folog}[1][]{\ifthenelse{\equal{#1}{}}{\mathrm{FO}}{\mathrm{FO}^{#1}}} %first-order logic
\newcommand{\solog}{\mathrm{SO}} %second-order logic
\newcommand{\msolog}{\mathrm{MSO}} %monadic second-order logic
\newcommand{\inflog}[2][]{\ifthenelse{\equal{#1}{}}{\mathrm{L}_{#2\omega}}{\mathrm{L}^{#1}_{#2\omega}}} %infinitary logic parameterized by the number of distinct variables (#1) and the upper bound on the sizes of sets over which disjunctions or conjunctions can be taken (#2), the upper bound on the lengths of strings of quantifiers is fixed, i.e. \omega
%\newcommand{\logic}[2][]{\ifthenelse{\equal{#1}{}}{\mathrm{L}_{#2}}{\mathrm{L}^{#1}_{#2}}} %parameterized logic (like infinitary logics)
\newcommand{\logic}{\mathcal{L}} %(general) logic
%% >

%%counting specifiers <
\newcommand{\atleast}[1]{\geq #1} %at least #1
\newcommand{\atmost}[1]{\leq #1} %at most #1
\newcommand{\exactly}[1]{= #1} %exactly #1
\newcommand{\cardatleast}[1]{\varphi_{\atleast{#1}}} %cardinality at least #1
\newcommand{\cardatmost}[1]{\varphi_{\atmost{#1}}} %cardinality at most #1
\newcommand{\cardexactly}[1]{\varphi_{\exactly{#1}}} %cardinality exactly #1
%% >

%%vocabulary, connectives, quantifiers, formula operations <
\newcommand{\emptyvoc}{\emptyset} %empty vocabulary
\newcommand{\lthen}{\rightarrow} %logicial then
\newcommand{\liff}{\leftrightarrow} %logical iff (between two formulas)
\newcommand{\blor}{\bigvee} %big disjunction
\newcommand{\bland}{\bigwedge} %big conjunction
\newcommand{\existatleast}[1]{\exists^{\atleast{#1}}} %exist at least #1
\newcommand{\existatmost}[1]{\exists^{\atmost{#1}}} %exist at most #1
\newcommand{\existexactly}[1]{\exists^{\exactly{#1}}} %exist exactly #1
\newcommand{\free}{\mathrm{free}} %set of free variables of #1
\newcommand{\qr}{\mathrm{qr}} %quantifier rank (of a formula)
\newcommand{\modclass}{\mathrm{Mod}} %model class (of a formula)
%% >

%%substitution <
\newcommand{\sbst}[2]{{\scriptstyle\frac{#1}{#2}}} %substitution of #2 with #1
%% >
\newenvironment{perm}{\left(\begin{array}}{\end{array}\right)} %permutation of variables

%%logic relations <
\newcommand{\satis}{\models} %satisfaction relation
\newcommand{\consq}{\models} %consequence relation
%% >

%%logic operations <
\newcommand{\rel}[1]{#1^\mathit{r}} %#1 relationalized
\newcommand{\invrel}[1]{#1^{-\mathit{r}}} %#1 inverse-relationalized
%% >

%%finite notions <
\newcommand{\fin}{\mathrm{fin}} %finite
\newcommand{\consqfin}{\consq_\fin} %consequence relation restricted to finite structures
%% >

%%nullary relations and predicates <
\newcommand{\true}{\mathrm{TRUE}} %TRUE symbol
\newcommand{\false}{\mathrm{FALSE}} %FALSE symbol
\newcommand{\tr}{\mathrm{T}} %T symbol
\newcommand{\fls}{\mathrm{F}} %F symbol
%% >

%%operations on formulas and structures <
\newcommand{\tuplesby}[2]{{#1^{#2}(\_)}} %tuples defined by formula #1 and structure #2
\newcommand{\rltv}[2]{#1^{#2}} %formula #1 relativized to the set #2
%% >

%%global relations <
\newcommand{\transcls}{\mathrm{TC}} %transitive closure relation
%% >

%%special classes of structures <
\newcommand{\ordclass}{\mathcal{O}} %class of finite ordered structures (in a vocabulary)
\newcommand{\even}{\mathrm{EVEN}} %class of finite structures of even cardinality (in a vocabulary)
%% >

%%extension axioms <
\newcommand{\extaxm}[1][]{\ifthenelse{\equal{#1}{}}{\chi}{\chi_{#1}}} %extension axiom with optional parameter #1 (set of formulas)
\newcommand{\conjextaxm}[1]{\epsilon_{#1}} %conjunction of extension axioms with variables indexed no more than #1
%% >

%%labeled/unlabeled classes and probabilities <
\newcommand{\lclass}[1]{\mathit{L}_{#1}} %labeled class of strcutures
\newcommand{\lprob}[1][]{\ifthenelse{\equal{#1}{}}{\mathit{l}}{\mathit{l}_{#1}}} %labeled probability over the class of structures of cardinality #1 or labeld asymptotic probability
\newcommand{\uclass}[1]{\mathit{U}_{#1}} %unlabeled class of strcutures
\newcommand{\uprob}[1][]{\ifthenelse{\equal{#1}{}}{\mathit{u}}{\mathit{u}_{#1}}} %unlabeled probability over the class of structures of cardinality #1 or unlabeld asymptotic probability
%% >


\newenvironment{quoteno}[1]{(#1)\hfill}{\hfill\phantom{(+)}}


%if resetting of equation counter is required, use the instruction below:
%\setcounter{equation}{0}

\theoremstyle{plain}
\newtheorem*{fact}{Fact}

\theoremstyle{remark}
\newtheorem*{note}{Note}

\theoremstyle{definition}
\newtheorem*{remark}{Remark}

\begin{document}
%\begin{titlepage}
%\noindent\textsc{\LARGE Annotations to ``Finite Model Theory''}\bigskip\\
%\textsc{\large with Solutions Hints}
%\end{titlepage}
\titleformat{\chapter}[hang]{\Large\bfseries}{\thechapter.}{.5em}{}
\titleformat{\section}[hang]{\large\bfseries}{\thesection}{.5em}{}
%\input{chapter1}
%\input{chapter2}
%\input{chapter3}
\input{chapter4}

\begin{thebibliography}{10}
\bibitem{EFT} H.-D.\ Ebbinghaus, J.\ Flum and W.\ Thomas \textsl{Mathematical Logic} 2nd edition, Springer, 1995.
%
\end{thebibliography}
\end{document}